"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRouteTest = void 0;
const utils_1 = require("@lightjs/utils");
const micro_1 = require("micro");
function createRouteTest(route) {
    // assume that the route is in serverfull mode
    const handler = (0, utils_1.convertHandlerFunctionToRequestHandler)(route);
    // TODO: duplicated code below, needs refactor
    const safeGuardedRoute = (req, res) => (0, micro_1.run)(req, res, handler);
    return safeGuardedRoute;
}
exports.createRouteTest = createRouteTest;
