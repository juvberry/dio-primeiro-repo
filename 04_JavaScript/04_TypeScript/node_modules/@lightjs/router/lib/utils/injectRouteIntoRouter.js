"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.injectRouteIntoRouter = void 0;
const utils_1 = require("@lightjs/utils");
function injectRouteIntoRouter(router, routes, opts) {
    routes.forEach((routeObj) => {
        const { route, path } = routeObj;
        const middleware = [...(opts.middleware || [])];
        const appliedHandler = (0, utils_1.applyMiddleware)(middleware, route);
        const requestHandler = (0, utils_1.convertHandlerFunctionToRequestHandler)(appliedHandler);
        router.all(path, requestHandler);
    });
}
exports.injectRouteIntoRouter = injectRouteIntoRouter;
